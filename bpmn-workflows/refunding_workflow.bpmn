<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:zeebe="http://camunda.org/schema/zeebe/1.0" xmlns:modeler="http://camunda.org/schema/modeler/1.0" id="Definitions_1lzricr" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="5.21.0" modeler:executionPlatform="Camunda Cloud" modeler:executionPlatformVersion="8.4.0">
  <bpmn:process id="Process_1vejaze" isExecutable="true">
    <bpmn:documentation>"apply-payment-ref" is the same as "link-pr"</bpmn:documentation>
    <bpmn:startEvent id="StartEvent_1">
      <bpmn:outgoing>Flow_0iyxtar</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:task id="Activity_0wj2lfq" name="Apply payment ref">
      <bpmn:incoming>Flow_1eiej7l</bpmn:incoming>
      <bpmn:incoming>Flow_0iyxtar</bpmn:incoming>
      <bpmn:outgoing>Flow_13qdgqv</bpmn:outgoing>
      <bpmn:outgoing>Flow_1adl1bb</bpmn:outgoing>
    </bpmn:task>
    <bpmn:serviceTask id="Activity_1b6f234" name="&#34;apply-payment-ref&#34; to queue &#34;core_funding_system&#34;" camunda:delegateExpression="applyPaymentRef" zeebe:modelerTemplate="io.camunda.connectors.RabbitMQ.v1" zeebe:modelerTemplateVersion="3" zeebe:modelerTemplateIcon="data:image/svg+xml;utf8,%3Csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;18&#39; height=&#39;18&#39; viewBox=&#39;-7.5 0 271 271&#39; preserveAspectRatio=&#39;xMidYMid&#39;%3E%3Cpath d=&#39;M245.44 108.308h-85.09a7.738 7.738 0 0 1-7.735-7.734v-88.68C152.615 5.327 147.29 0 140.726 0h-30.375c-6.568 0-11.89 5.327-11.89 11.894v88.143c0 4.573-3.697 8.29-8.27 8.31l-27.885.133c-4.612.025-8.359-3.717-8.35-8.325l.173-88.241C54.144 5.337 48.817 0 42.24 0H11.89C5.321 0 0 5.327 0 11.894V260.21c0 5.834 4.726 10.56 10.555 10.56H245.44c5.834 0 10.56-4.726 10.56-10.56V118.868c0-5.834-4.726-10.56-10.56-10.56zm-39.902 93.233c0 7.645-6.198 13.844-13.843 13.844H167.69c-7.646 0-13.844-6.199-13.844-13.844v-24.005c0-7.646 6.198-13.844 13.844-13.844h24.005c7.645 0 13.843 6.198 13.843 13.844v24.005z&#39; fill=&#39;%23F60&#39;/%3E%3C/svg%3E">
      <bpmn:documentation>"apply-payment-ref" is the same as "link-pr" for "core-etl"</bpmn:documentation>
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="io.camunda:connector-rabbitmq:1" />
        <zeebe:ioMapping>
          <zeebe:input source="uri" target="authentication.authType" />
          <zeebe:input target="authentication.uri" />
          <zeebe:input target="routing.exchange" />
          <zeebe:input target="routing.routingKey" />
          <zeebe:input target="message.body" />
          <zeebe:input source="={}" target="message.properties" />
        </zeebe:ioMapping>
        <zeebe:taskHeaders>
          <zeebe:header key="resultVariable" />
          <zeebe:header key="resultExpression" />
          <zeebe:header key="errorExpression" />
        </zeebe:taskHeaders>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_13qdgqv</bpmn:incoming>
      <bpmn:outgoing>Flow_1eiej7l</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="Flow_0iyxtar" sourceRef="StartEvent_1" targetRef="Activity_0wj2lfq" />
    <bpmn:sequenceFlow id="Flow_13qdgqv" sourceRef="Activity_0wj2lfq" targetRef="Activity_1b6f234" />
    <bpmn:sequenceFlow id="Flow_1eiej7l" sourceRef="Activity_1b6f234" targetRef="Activity_0wj2lfq" />
    <bpmn:task id="Activity_0a5ae4c" name="Transfer client money to bank">
      <bpmn:incoming>Flow_0b8qjyj</bpmn:incoming>
      <bpmn:outgoing>Flow_1lfetqc</bpmn:outgoing>
      <bpmn:outgoing>Flow_1n5mv0w</bpmn:outgoing>
    </bpmn:task>
    <bpmn:exclusiveGateway id="Gateway_0wgnb5i" name="Is transfer automatic?">
      <bpmn:incoming>Flow_1adl1bb</bpmn:incoming>
      <bpmn:outgoing>Flow_0b8qjyj</bpmn:outgoing>
      <bpmn:outgoing>Flow_0z9ozej</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_1adl1bb" sourceRef="Activity_0wj2lfq" targetRef="Gateway_0wgnb5i" />
    <bpmn:sequenceFlow id="Flow_0b8qjyj" name="Yes" sourceRef="Gateway_0wgnb5i" targetRef="Activity_0a5ae4c" />
    <bpmn:serviceTask id="Activity_0595rqa" name="&#34;refund&#34; to &#34;credit_requests_queue&#34;" zeebe:modelerTemplate="io.camunda.connectors.RabbitMQ.v1" zeebe:modelerTemplateVersion="3" zeebe:modelerTemplateIcon="data:image/svg+xml;utf8,%3Csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;18&#39; height=&#39;18&#39; viewBox=&#39;-7.5 0 271 271&#39; preserveAspectRatio=&#39;xMidYMid&#39;%3E%3Cpath d=&#39;M245.44 108.308h-85.09a7.738 7.738 0 0 1-7.735-7.734v-88.68C152.615 5.327 147.29 0 140.726 0h-30.375c-6.568 0-11.89 5.327-11.89 11.894v88.143c0 4.573-3.697 8.29-8.27 8.31l-27.885.133c-4.612.025-8.359-3.717-8.35-8.325l.173-88.241C54.144 5.337 48.817 0 42.24 0H11.89C5.321 0 0 5.327 0 11.894V260.21c0 5.834 4.726 10.56 10.555 10.56H245.44c5.834 0 10.56-4.726 10.56-10.56V118.868c0-5.834-4.726-10.56-10.56-10.56zm-39.902 93.233c0 7.645-6.198 13.844-13.843 13.844H167.69c-7.646 0-13.844-6.199-13.844-13.844v-24.005c0-7.646 6.198-13.844 13.844-13.844h24.005c7.645 0 13.843 6.198 13.843 13.844v24.005z&#39; fill=&#39;%23F60&#39;/%3E%3C/svg%3E">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="io.camunda:connector-rabbitmq:1" />
        <zeebe:ioMapping>
          <zeebe:input source="uri" target="authentication.authType" />
          <zeebe:input target="authentication.uri" />
          <zeebe:input target="routing.exchange" />
          <zeebe:input target="routing.routingKey" />
          <zeebe:input target="message.body" />
          <zeebe:input source="={}" target="message.properties" />
        </zeebe:ioMapping>
        <zeebe:taskHeaders>
          <zeebe:header key="resultVariable" />
          <zeebe:header key="resultExpression" />
          <zeebe:header key="errorExpression" />
        </zeebe:taskHeaders>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1lfetqc</bpmn:incoming>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="Flow_1lfetqc" sourceRef="Activity_0a5ae4c" targetRef="Activity_0595rqa" />
    <bpmn:serviceTask id="Activity_1p1s9u5" name="Check money has been transferred">
      <bpmn:incoming>Flow_0z9ozej</bpmn:incoming>
      <bpmn:incoming>Flow_1n5mv0w</bpmn:incoming>
      <bpmn:outgoing>Flow_0xfi26u</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="Flow_0z9ozej" name="No" sourceRef="Gateway_0wgnb5i" targetRef="Activity_1p1s9u5" />
    <bpmn:sequenceFlow id="Flow_1n5mv0w" sourceRef="Activity_0a5ae4c" targetRef="Activity_1p1s9u5" />
    <bpmn:exclusiveGateway id="Gateway_1eenykw" name="Has money been transferred?">
      <bpmn:incoming>Flow_0xfi26u</bpmn:incoming>
      <bpmn:outgoing>Flow_0iqlgvd</bpmn:outgoing>
      <bpmn:outgoing>Flow_1pinx8d</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_0xfi26u" sourceRef="Activity_1p1s9u5" targetRef="Gateway_1eenykw" />
    <bpmn:sequenceFlow id="Flow_0iqlgvd" name="No" sourceRef="Gateway_1eenykw" targetRef="Activity_1h0pcye" />
    <bpmn:endEvent id="Event_0m5xpl6">
      <bpmn:incoming>Flow_0rbkd9j</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:serviceTask id="Activity_01q1fo7" name="&#34;end-invoice-lifecycle&#34; to &#34;core_funding_queue&#34;" zeebe:modelerTemplate="io.camunda.connectors.RabbitMQ.v1" zeebe:modelerTemplateVersion="3" zeebe:modelerTemplateIcon="data:image/svg+xml;utf8,%3Csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;18&#39; height=&#39;18&#39; viewBox=&#39;-7.5 0 271 271&#39; preserveAspectRatio=&#39;xMidYMid&#39;%3E%3Cpath d=&#39;M245.44 108.308h-85.09a7.738 7.738 0 0 1-7.735-7.734v-88.68C152.615 5.327 147.29 0 140.726 0h-30.375c-6.568 0-11.89 5.327-11.89 11.894v88.143c0 4.573-3.697 8.29-8.27 8.31l-27.885.133c-4.612.025-8.359-3.717-8.35-8.325l.173-88.241C54.144 5.337 48.817 0 42.24 0H11.89C5.321 0 0 5.327 0 11.894V260.21c0 5.834 4.726 10.56 10.555 10.56H245.44c5.834 0 10.56-4.726 10.56-10.56V118.868c0-5.834-4.726-10.56-10.56-10.56zm-39.902 93.233c0 7.645-6.198 13.844-13.843 13.844H167.69c-7.646 0-13.844-6.199-13.844-13.844v-24.005c0-7.646 6.198-13.844 13.844-13.844h24.005c7.645 0 13.843 6.198 13.843 13.844v24.005z&#39; fill=&#39;%23F60&#39;/%3E%3C/svg%3E">
      <bpmn:documentation>"end-invoice-lifecycle" is the same as "caceis-matched" of "core-etl"</bpmn:documentation>
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="io.camunda:connector-rabbitmq:1" />
        <zeebe:ioMapping>
          <zeebe:input source="uri" target="authentication.authType" />
          <zeebe:input target="authentication.uri" />
          <zeebe:input target="routing.exchange" />
          <zeebe:input target="routing.routingKey" />
          <zeebe:input target="message.body" />
          <zeebe:input source="={}" target="message.properties" />
        </zeebe:ioMapping>
        <zeebe:taskHeaders>
          <zeebe:header key="resultVariable" />
          <zeebe:header key="resultExpression" />
          <zeebe:header key="errorExpression" />
        </zeebe:taskHeaders>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1pinx8d</bpmn:incoming>
      <bpmn:incoming>Flow_0dwwa3l</bpmn:incoming>
      <bpmn:outgoing>Flow_0rbkd9j</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="Flow_1pinx8d" name="Yes" sourceRef="Gateway_1eenykw" targetRef="Activity_01q1fo7" />
    <bpmn:sequenceFlow id="Flow_0rbkd9j" sourceRef="Activity_01q1fo7" targetRef="Event_0m5xpl6" />
    <bpmn:serviceTask id="Activity_1h0pcye" name="&#34;alert-operations&#34; to &#34;to_notif&#34;" zeebe:modelerTemplate="io.camunda.connectors.RabbitMQ.v1" zeebe:modelerTemplateVersion="3" zeebe:modelerTemplateIcon="data:image/svg+xml;utf8,%3Csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;18&#39; height=&#39;18&#39; viewBox=&#39;-7.5 0 271 271&#39; preserveAspectRatio=&#39;xMidYMid&#39;%3E%3Cpath d=&#39;M245.44 108.308h-85.09a7.738 7.738 0 0 1-7.735-7.734v-88.68C152.615 5.327 147.29 0 140.726 0h-30.375c-6.568 0-11.89 5.327-11.89 11.894v88.143c0 4.573-3.697 8.29-8.27 8.31l-27.885.133c-4.612.025-8.359-3.717-8.35-8.325l.173-88.241C54.144 5.337 48.817 0 42.24 0H11.89C5.321 0 0 5.327 0 11.894V260.21c0 5.834 4.726 10.56 10.555 10.56H245.44c5.834 0 10.56-4.726 10.56-10.56V118.868c0-5.834-4.726-10.56-10.56-10.56zm-39.902 93.233c0 7.645-6.198 13.844-13.843 13.844H167.69c-7.646 0-13.844-6.199-13.844-13.844v-24.005c0-7.646 6.198-13.844 13.844-13.844h24.005c7.645 0 13.843 6.198 13.843 13.844v24.005z&#39; fill=&#39;%23F60&#39;/%3E%3C/svg%3E">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="io.camunda:connector-rabbitmq:1" />
        <zeebe:ioMapping>
          <zeebe:input source="uri" target="authentication.authType" />
          <zeebe:input target="authentication.uri" />
          <zeebe:input target="routing.exchange" />
          <zeebe:input target="routing.routingKey" />
          <zeebe:input target="message.body" />
          <zeebe:input source="={}" target="message.properties" />
        </zeebe:ioMapping>
        <zeebe:taskHeaders>
          <zeebe:header key="resultVariable" />
          <zeebe:header key="resultExpression" />
          <zeebe:header key="errorExpression" />
        </zeebe:taskHeaders>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0iqlgvd</bpmn:incoming>
      <bpmn:outgoing>Flow_0zryweb</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:userTask id="Activity_0mrukkk" name="Regularize payment">
      <bpmn:documentation>Backoffice operation</bpmn:documentation>
      <bpmn:incoming>Flow_0zryweb</bpmn:incoming>
      <bpmn:outgoing>Flow_0dwwa3l</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="Flow_0zryweb" sourceRef="Activity_1h0pcye" targetRef="Activity_0mrukkk" />
    <bpmn:sequenceFlow id="Flow_0dwwa3l" sourceRef="Activity_0mrukkk" targetRef="Activity_01q1fo7" />
  </bpmn:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_1vejaze">
      <bpmndi:BPMNEdge id="Flow_0dwwa3l_di" bpmnElement="Flow_0dwwa3l">
        <di:waypoint x="1280" y="680" />
        <di:waypoint x="1380" y="680" />
        <di:waypoint x="1380" y="457" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0zryweb_di" bpmnElement="Flow_0zryweb">
        <di:waypoint x="1070" y="590" />
        <di:waypoint x="1070" y="680" />
        <di:waypoint x="1180" y="680" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0rbkd9j_di" bpmnElement="Flow_0rbkd9j">
        <di:waypoint x="1430" y="417" />
        <di:waypoint x="1522" y="417" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1pinx8d_di" bpmnElement="Flow_1pinx8d">
        <di:waypoint x="1095" y="417" />
        <di:waypoint x="1330" y="417" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1205" y="399" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0iqlgvd_di" bpmnElement="Flow_0iqlgvd">
        <di:waypoint x="1070" y="442" />
        <di:waypoint x="1070" y="510" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1078" y="473" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0xfi26u_di" bpmnElement="Flow_0xfi26u">
        <di:waypoint x="940" y="417" />
        <di:waypoint x="1045" y="417" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1n5mv0w_di" bpmnElement="Flow_1n5mv0w">
        <di:waypoint x="710" y="290" />
        <di:waypoint x="785" y="290" />
        <di:waypoint x="785" y="417" />
        <di:waypoint x="840" y="417" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0z9ozej_di" bpmnElement="Flow_0z9ozej">
        <di:waypoint x="565" y="417" />
        <di:waypoint x="840" y="417" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="695" y="399" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1lfetqc_di" bpmnElement="Flow_1lfetqc">
        <di:waypoint x="660" y="250" />
        <di:waypoint x="660" y="160" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0b8qjyj_di" bpmnElement="Flow_0b8qjyj">
        <di:waypoint x="540" y="392" />
        <di:waypoint x="540" y="290" />
        <di:waypoint x="610" y="290" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="546" y="338" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1adl1bb_di" bpmnElement="Flow_1adl1bb">
        <di:waypoint x="450" y="417" />
        <di:waypoint x="515" y="417" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1eiej7l_di" bpmnElement="Flow_1eiej7l">
        <di:waypoint x="400" y="640" />
        <di:waypoint x="400" y="457" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_13qdgqv_di" bpmnElement="Flow_13qdgqv">
        <di:waypoint x="400" y="457" />
        <di:waypoint x="400" y="640" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0iyxtar_di" bpmnElement="Flow_0iyxtar">
        <di:waypoint x="188" y="417" />
        <di:waypoint x="350" y="417" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1">
        <dc:Bounds x="152" y="399" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0wj2lfq_di" bpmnElement="Activity_0wj2lfq">
        <dc:Bounds x="350" y="377" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1b6f234_di" bpmnElement="Activity_1b6f234">
        <dc:Bounds x="350" y="640" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0a5ae4c_di" bpmnElement="Activity_0a5ae4c">
        <dc:Bounds x="610" y="250" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0wgnb5i_di" bpmnElement="Gateway_0wgnb5i" isMarkerVisible="true">
        <dc:Bounds x="515" y="392" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="513" y="452" width="54" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0595rqa_di" bpmnElement="Activity_0595rqa">
        <dc:Bounds x="610" y="80" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1p1s9u5_di" bpmnElement="Activity_1p1s9u5">
        <dc:Bounds x="840" y="377" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1eenykw_di" bpmnElement="Gateway_1eenykw" isMarkerVisible="true">
        <dc:Bounds x="1045" y="392" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1028" y="362" width="84" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0m5xpl6_di" bpmnElement="Event_0m5xpl6">
        <dc:Bounds x="1522" y="399" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_1rd6a7m" bpmnElement="Activity_01q1fo7">
        <dc:Bounds x="1330" y="377" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_1hfl3ia" bpmnElement="Activity_1h0pcye">
        <dc:Bounds x="1020" y="510" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0mrukkk_di" bpmnElement="Activity_0mrukkk">
        <dc:Bounds x="1180" y="640" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
